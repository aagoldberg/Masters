---
title: "Week1_Solutions"
author: "John Grando"
date: "January 10, 2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

##Week 2 Solutions

This is the published document for Week 2 solutions

###Problem 1 - Use the summary function to gain an overview of the data set. Then display the mean and median for at least two attributes
###Probelm 7 - BONUS – place the original .csv in a github file and have R read from the link. This will be a very useful skill as you progress in your data science education and career.

```{r}
airpollutionurl <- "https://raw.githubusercontent.com/john-grando/Masters/master/Workshop/R/Week2/assignment/summer.csv"
airpollutiondata <- read.csv(file = airpollutionurl, header <- TRUE, sep <- ",", colClasses = c('NULL','numeric','numeric','numeric','numeric','numeric'))
summary(airpollutiondata, digits <- 4)
print(c(O3.Median = median(airpollutiondata$O3), O3.Mean = mean(airpollutiondata$O3),NO2.Median = median(airpollutiondata$NO2), NO2.Mean = mean(airpollutiondata$NO2)))
```
###Problem 2 - Create a new data frame with a subset of the columns and rows. Make sure to rename it

```{r}
newDF <- subset(x = airpollutiondata, airpollutiondata$PM10 >34)
```
###Problem 3 - Create new column names for the new data frame.

```{r}
colnames(newDF) <- c("newO3", "newNO2", "NewNO", "newSO2", "newPM10")
head(newDF)
```

###Problem 4 - Use the summary function to create an overview of your new data frame. The print the mean and median for the same two attributes. Please compare

```{r}
summary(newDF, digits <- 4)
print(c(newO3.Median = median(newDF$newO3), newO3.Mean = mean(newDF$newO3), newNO2.Median = median(newDF$newNO2), newNO2.Mean = mean(newDF$newNO2)))
#It appears that the mean and median values for all attributes are approximately the same between the upper half of the PM10 readings and all readings. Without further analysis, it cannot be determined whether or not these differences are statistically significant.  More outputs have been included for side by side comparisons.
#Create copy data tables with an extra column for the data set type
require(ggplot2)
cpyDF <- cbind(airpollutiondata, DataSet = "All")
cpynewDF <- subset(x = airpollutiondata, airpollutiondata$PM10 >34)
cpynewDF <- cbind(cpynewDF, DataSet = "PM10_GT_34")
#Combine the tables into one for box plots
combinedDF <- rbind(cpyDF, cpynewDF)

#Box plots of O3
ggplot(data = combinedDF, aes(y = O3, x = DataSet)) + geom_boxplot()

#Box plots of NO2
ggplot(data = combinedDF, aes(y = NO2, x = DataSet)) + geom_boxplot()

#Box plots of NO
ggplot(data = combinedDF, aes(y = NO, x = DataSet)) + geom_boxplot()

#Box plots of PM10
ggplot(data = combinedDF, aes(y = PM10, x = DataSet)) + geom_boxplot()
```

###Problem 5 - For at least 3 values in a column please rename so that every value in that column is renamed. For example, suppose I have 20 values of the letter “e” in one column. Rename those values so that all 20 would show as excellent

```{r}
head(newDF)
newDF$newSO2[newDF$newSO2 < 10] <- 0
newDF$newNO2[newDF$newNO2 == 29] <- 31
newDF$newO3[newDF$newNO2 > 30] <- newDF$newO3[newDF$newNO2 >30] / 2 
head(newDF)
#Additionally, I was experimenting with facet_wrap and melt to combine all the box plots into one statement.  It did not turn out as well as I hoped, due to scaling in the y axis, so I did not include it in the main outputs.  However, since I already wrote the code, I figured I would show it.

require(reshape2)
combinedDF.m <- melt(data = combinedDF, id.vars = "DataSet", measure.vars = c("O3","NO2","NO","PM10"))
ggplot(data = combinedDF.m, aes(y = value, x = DataSet)) + facet_wrap(~variable) + geom_boxplot()

```

###Problem 6 - Display enough rows to see examples of all of steps 1-5 above.

```{r}
#Examples have been provided within each step to make review easier
```

